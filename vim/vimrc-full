" Plugins:

    packadd YouCompleteMe
    packadd fzf.vim
    packadd fzf
    packadd vim-gitgutter
    packadd ctrlp.vim
    packadd vim-repl

    if executable('rg')
        " allows ripgrep to detect git root / uses .gitignore for fast search
        let g:rg_derive_root='true'
    endif

" Plugin options:

    " for ctrlp to ignore irrelevant files
    let g:ctrlp_user_command = ['.git/', 'git --git-dir=%s/.git ls-files -oc --exclude-standard']
    let g:ctrlp_use_caching = 1

    let g:rg_highlight = 1

    let g:ycm_server_keep_logfiles = 1
    let g:ycm_server_log_level = 'debug'
    let g:ycm_confirm_extra_conf = 0

    " https://github.com/ycm-core/YouCompleteMe/issues/2015
    set completeopt-=preview

    " autocmd BufWritePost *.py call flake8#Flake8()

    " FIXME: Irritating behavior
    "au BufEnter * :ClangFormatAutoToggle

    autocmd FileType c,c++,h,hpp ClangFormatAutoEnable
    let g:clang_format#auto_format = 1
    let g:clang_format#detect_style_file = 1
    let g:clang_format#auto_format_on_insert_leave = 1

